<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Multi Assistant Tester</title>
</head>
<body>
  <h2>Test Assistants</h2>
  <label>
    Business:
    <select id="biz">
      <option value="coffee_shop">coffee_shop</option>
      <option value="dentist">dentist</option>
    </select>
  </label>
  <br/><br/>
  <input id="msg" placeholder="Type a message..." style="width:300px" />
  <button id="send">Send</button>
  <pre id="out"></pre>

  <script>
    const biz = document.getElementById('biz');
    const msg = document.getElementById('msg');
    const out = document.getElementById('out');
    document.getElementById('send').onclick = async () => {
      out.textContent = 'Sending...';
      const r = await fetch('http://127.0.0.1:8000/chat/' + biz.value, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: msg.value || '' })
      });
      const data = await r.json();
      out.textContent = JSON.stringify(data, null, 2);
    };
  </script>
</body>
</html>
